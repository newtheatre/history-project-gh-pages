{"version":3,"file":"utility.js","sources":["utility.coffee"],"names":[],"mappings":"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","sourcesContent":["api_key = \"fCXo05bxAfCoY31I5vtcmPr8AEY3uQTr\"\n\nfetch_sm = (url, callback) ->\n  $.ajax\n    url: \"https://www.smugmug.com/api/v2/#{ url }?APIKey=#{ api_key }&count=5000\"\n    method: \"GET\"\n    contentType: \"application/json; charset=utf-8\",\n    dataType: \"json\",\n    success: callback\n    error: (err) ->\n      alert \"Error: #{err}\"\n\nfill_album_list = (albums) ->\n  ret = \"\"\n  $(albums).each (i, album) ->\n    ret += \"<tr class=\\\"album-row\\\" data-key=\\\"#{ album[\"AlbumKey\"] }\\\"><td><a href=\\\"#{ album['WebUri'] }\\\" class=\\\"usage-link\\\">#{ album[\"Name\"] }</a></td><td>#{ album[\"AlbumKey\"] }</td><td>#{ album[\"ImageCount\"] }</td><td class=\\\"usage\\\">?</td></tr>\\n\"\n  $(\"#smug-albums tbody\").html(ret)\n\nfill_image_list = (images) ->\n  ret = \"\"\n  $(images).each (i, image) ->\n    ret += \"<tr class=\\\"image-row\\\" data-key=\\\"#{ image[\"ImageKey\"] }\\\"><td><a href=\\\"#{ image['WebUri'] }\\\"><img src=\\\"#{ image[\"ThumbnailUrl\"] }\\\" alt=\\\"Thumb\\\"/></a><td>#{ image[\"Title\"] }</td><td>#{ image[\"FileName\"] }</td><td>#{ image[\"ImageKey\"] }</td><td class=\\\"usage\\\">?</td></tr>\\n\"\n  $(\"#smug-images tbody\").html(ret)\n\nfetch_usage_list = (url, callback) ->\n  $.ajax\n    url: url\n    method: \"GET\"\n    contentType: \"application/json; charset=utf-8\",\n    dataType: \"json\",\n    success: callback\n    error: (err) ->\n      alert \"Error: #{err}\"\n\nadd_usage_data = (albums) ->\n  $.each albums, (albumKey, show) ->\n    $(\"[data-key=#{albumKey}] .usage\").html(\"<a href=\\\"#{ show['link'] }\\\" title=\\\"#{ show['title'] }\\\"\n                                                class=\\\"usage-link\\\">Y</a>\").addClass(\"yes\")\n\ndocument.addEventListener 'DOMContentLoaded', ->\n  if $('body').hasClass 'util-smug-albums'\n    fetch_sm \"user/newtheatre!albums\", (data) ->\n      window.d = data\n      fill_album_list(data[\"Response\"][\"Album\"])\n\n      fetch_usage_list \"/feeds/smug_albums.json\", (data) ->\n        add_usage_data(data)\n        $(\"#smug-albums\").tablesorter()\n\n\n\n  if $('body').hasClass 'util-smug-album'\n    key = $('#smug-images').data(\"album\")\n    fetch_sm \"album/#{ key }!images\", (data) ->\n      window.d = data\n      fill_image_list(data[\"Response\"][\"AlbumImage\"])\n\n      # Show assets\n      if key == \"C87GJX\" or key == \"j3PdMh\"\n        fetch_usage_list \"/feeds/smug_images.json\", (data) ->\n          add_usage_data(data)\n          $(\"#smug-images\").tablesorter()\n      # Headshots\n      if key == \"hZh8Jt\"\n        fetch_usage_list \"/feeds/smug_headshots.json\", (data) ->\n          add_usage_data(data)\n          $(\"#smug-images\").tablesorter()\n      # Venues\n      if key == \"BdFr84\"\n        fetch_usage_list \"/feeds/smug_venues.json\", (data) ->\n          add_usage_data(data)\n          $(\"#smug-images\").tablesorter()\n\n\n\n"]}